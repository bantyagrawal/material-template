"use strict";(self.webpackChunkfrontendStructure=self.webpackChunkfrontendStructure||[]).push([[422],{1422:(Nt,G,c)=>{c.r(G),c.d(G,{UserModule:()=>Xt});var u=c(177),w=c(8498),s=c(9417),d=c(5351),e=c(7705),P=c(5794),h=c(1099),O=c(1573),f=c(8219),C=c(2102),$=c(6600),U=c(2798);function Q(i,l){if(1&i&&(e.j41(0,"mat-option",4),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.label)}}function W(i,l){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" ",t.data.errorMessage," ")}}let F=(()=>{class i{constructor(){this.selectionChange=new e.bkB}getValidAppearance(t){return"fill"===t||"outline"===t?t:"outline"}onfocus(){}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-select"]],inputs:{data:"data"},outputs:{selectionChange:"selectionChange"},decls:6,vars:5,consts:[[1,"full-width",3,"ngClass"],[3,"formControl","focus","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(o,n){1&o&&(e.j41(0,"mat-form-field",0)(1,"mat-label"),e.EFF(2),e.k0s(),e.j41(3,"mat-select",1),e.bIt("focus",function(){return n.onfocus()})("selectionChange",function(a){return n.selectionChange.emit(a)}),e.DNE(4,Q,2,2,"mat-option",2),e.k0s(),e.DNE(5,W,2,1,"mat-error",3),e.k0s()),2&o&&(e.Y8G("ngClass",n.data.customClass),e.R7$(2),e.JRh(n.data.label||n.data.placeholder),e.R7$(1),e.Y8G("formControl",n.data.control),e.R7$(1),e.Y8G("ngForOf",n.data.options),e.R7$(1),e.Y8G("ngIf",(null==n.data.control?null:n.data.control.invalid)&&(null==n.data.control?null:n.data.control.touched)))},dependencies:[u.YU,u.Sq,u.bT,C.rl,C.nJ,C.TL,s.BC,s.l_,$.wT,U.VO]})}}return i})();const K=function(i){return{label:"Name",placeholder:"Enter name",type:"text",control:i,errorMessage:"Name is required"}},Z=function(i){return{label:"Email",placeholder:"Enter email",type:"email",control:i,errorMessage:"Valid email required"}},ee=function(i,l){return{label:"Password",type:"password",placeholder:"Enter password",control:i,errorMessage:l,isPasswordToggle:!0,customClass:"add-user-password"}},te=function(i){return{label:"Confirm Password",type:"password",placeholder:"Re-enter Password ",control:i,errorMessage:"Password and confirm password do not match",isPasswordToggle:!0,customClass:"add-user-password"}},ne=function(i){return{label:"Mobile",placeholder:"Enter mobile",type:"tel",control:i,errorMessage:"Valid number required"}},oe=function(i){return{label:"Device ID",placeholder:"Enter device ID",type:"text",control:i,errorMessage:"DeviceId is required"}},ie=function(i){return{label:"User ID",placeholder:"Enter user ID",type:"text",control:i,errorMessage:"UserId id required"}},ae=function(i){return{label:"IPv4",placeholder:"Enter IPv4",type:"text",control:i,errorMessage:"Valid IPv4 required"}},re=function(i){return{label:"IPv6",placeholder:"Enter IPv6",type:"text",control:i,errorMessage:"Valid IPv6 required"}},se=function(i,l){return{label:"User Role",placeholder:"Select role",options:i,control:l,errorMessage:"Role is required",customClass:"add-user-select"}},le=function(i,l){return{label:"Wallet Type",placeholder:"Select wallet",options:i,control:l,errorMessage:"Wallet is required"}},ce=function(){return{label:"Submit",color:"primary",type:"submit",customClass:"submit-btn"}};let D=(()=>{class i{constructor(t,o,n,r,a){this.fb=t,this.toastr=o,this.api=n,this.dialogRef=r,this.data=a,this.walletOptions=[{label:"SINGLE",value:"Single"},{label:"MULTI",value:"Multi"},{label:"BOTH",value:"Both"}],this.getChildRole()}ngOnInit(){this.myForm=this.fb.group({name:["",s.k0.required],userId:["",s.k0.required],password:["",[s.k0.required,s.k0.minLength(6),s.k0.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/)]],confirmPassword:["",s.k0.required],email:["",[s.k0.required,s.k0.email]],mobileNumber:["",s.k0.required],ipv4:["",s.k0.required],ipv6:["",s.k0.required],deviceId:["",s.k0.required],walletType:["",s.k0.required],role:["",s.k0.required]},{validators:this.matchPasswords})}matchPasswords(t){const o=t.get("password")?.value,n=t.get("confirmPassword")?.value;return o===n?null:{passwordMismatch:!0}}get nameControl(){return this.myForm.get("name")}get userIdControl(){return this.myForm.get("userId")}get passwordControl(){return this.myForm.get("password")}get confirmPasswordControl(){return this.myForm.get("confirmPassword")}get emailControl(){return this.myForm.get("email")}get mobileControl(){return this.myForm.get("mobileNumber")}get iv4Control(){return this.myForm.get("ipv4")}get iv6Control(){return this.myForm.get("ipv6")}get deviceIdControl(){return this.myForm.get("deviceId")}get walletControl(){return this.myForm.get("walletType")}get roleControl(){return this.myForm.get("role")}hasUppercase(){return/[A-Z]/.test(this.myForm.get("password")?.value)}hasLowercase(){return/[a-z]/.test(this.myForm.get("password")?.value)}hasNumber(){return/\d/.test(this.myForm.get("password")?.value)}hasSpecialCharacter(){return/[@$!%*?&]/.test(this.myForm.get("password")?.value)}showPasswordError(){const t=this.myForm.get("password");return t?.hasError("required")?"Password is required":t?.hasError("minlength")?"Password should be more then 6 digit":this.hasUppercase()?this.hasLowercase()?this.hasNumber()?this.hasSpecialCharacter()?"":"Password must have one special latter":"Password must have one digit":"Password must have one lowwer case":"Password must have one upper case"}getChildRole(){this.api.getChildRole().subscribe({next:t=>{0===t.data.length&&(this.toastr.error("Please add the child role first"),this.dialogRef.close()),this.roleOptions=t.data.map(o=>({label:o.roleName,value:o.uuid}))}})}onSubmit(){if(this.isProcessing)return;if(this.isProcessing=!0,this.myForm.invalid)return this.isProcessing=!1,void this.toastr.error("Form invailid");let t=this.myForm.value;t&&(t.deviceIdVerified=!0,t.emailVerified=!0,t.ipv4Verified=!0,t.ipv6Verified=!0,t.mobileVerified=!0,t.multiLogin=!0,delete t.confirmPassword),this.api.AddUser(t).subscribe({next:o=>{this.toastr.success("User added successfully!"),this.myForm.reset(),this.isProcessing=!1,this.dialogRef.close(o.data)},error:o=>{this.isProcessing=!1,this.dialogRef.close()}})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(s.ok),e.rXU(P.tw),e.rXU(h.G),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-user"]],decls:29,vars:39,consts:[[1,"responsive-form"],[1,"form-title"],[3,"formGroup","ngSubmit"],[1,"form-grid"],[1,"form-group"],[3,"data"],[1,"form-footer"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Add User"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(4,"div",3)(5,"div",4),e.nrm(6,"app-input",5),e.k0s(),e.j41(7,"div",4),e.nrm(8,"app-input",5),e.k0s(),e.j41(9,"div",4),e.nrm(10,"app-input",5),e.k0s(),e.j41(11,"div",4),e.nrm(12,"app-input",5),e.k0s(),e.j41(13,"div",4),e.nrm(14,"app-input",5),e.k0s(),e.j41(15,"div",4),e.nrm(16,"app-input",5),e.k0s(),e.j41(17,"div",4),e.nrm(18,"app-input",5),e.k0s(),e.j41(19,"div",4),e.nrm(20,"app-input",5),e.k0s(),e.j41(21,"div",4),e.nrm(22,"app-input",5),e.k0s(),e.j41(23,"div",4),e.nrm(24,"app-select",5),e.k0s(),e.j41(25,"div",4),e.nrm(26,"app-select",5),e.k0s()(),e.j41(27,"div",6),e.nrm(28,"app-button",5),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.myForm),e.R7$(3),e.Y8G("data",e.eq3(13,K,n.nameControl)),e.R7$(2),e.Y8G("data",e.eq3(15,Z,n.emailControl)),e.R7$(2),e.Y8G("data",e.l_i(17,ee,n.passwordControl,n.showPasswordError())),e.R7$(2),e.Y8G("data",e.eq3(20,te,n.confirmPasswordControl)),e.R7$(2),e.Y8G("data",e.eq3(22,ne,n.mobileControl)),e.R7$(2),e.Y8G("data",e.eq3(24,oe,n.deviceIdControl)),e.R7$(2),e.Y8G("data",e.eq3(26,ie,n.userIdControl)),e.R7$(2),e.Y8G("data",e.eq3(28,ae,n.iv4Control)),e.R7$(2),e.Y8G("data",e.eq3(30,re,n.iv6Control)),e.R7$(2),e.Y8G("data",e.l_i(32,se,n.roleOptions,n.roleControl)),e.R7$(2),e.Y8G("data",e.l_i(35,le,n.walletOptions,n.walletControl)),e.R7$(2),e.Y8G("data",e.lJ4(38,ce)))},dependencies:[s.qT,s.cb,s.j4,O.S,f.Q,F],styles:[".responsive-form[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;overflow:auto;max-height:80vh}.form-title[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:25px;margin-top:25px;font-size:1.8rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}app-input[_ngcontent-%COMP%], app-select[_ngcontent-%COMP%], app-date-picker[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.custom-inputs[_ngcontent-%COMP%]{width:100%}.form-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px;margin-bottom:30px}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.responsive-form[_ngcontent-%COMP%]{padding:15px}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}}app-date-picker[_ngcontent-%COMP%]   .uniform-width[_ngcontent-%COMP%]{display:block}.form-group[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.uniform-width[_ngcontent-%COMP%]{width:100%!important}}@media (max-width: 480px){.submit-btn[_ngcontent-%COMP%]{width:100%}.form-title[_ngcontent-%COMP%]{font-size:1.3rem}}"]})}}return i})();var v=c(9301),de=c(4160);let pe=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-chart"]],inputs:{chartOptions:"chartOptions"},decls:1,vars:10,consts:[[3,"series","chart","xaxis","dataLabels","stroke","title","tooltip","grid","yaxis","legend"]],template:function(o,n){1&o&&e.nrm(0,"apx-chart",0),2&o&&e.Y8G("series",n.chartOptions.series)("chart",n.chartOptions.chart)("xaxis",n.chartOptions.xaxis)("dataLabels",n.chartOptions.dataLabels)("stroke",n.chartOptions.stroke)("title",n.chartOptions.title)("tooltip",n.chartOptions.tooltip)("grid",n.chartOptions.grid)("yaxis",n.chartOptions.yaxis)("legend",n.chartOptions.legend)},dependencies:[de.Q]})}}return i})();var g=c(5596);function me(i,l){if(1&i){const t=e.RV6();e.j41(0,"span",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG();return e.Njj(r.onSpanClick(n))}),e.EFF(1),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.R7$(1),e.SpI("",t,"\xa0 > \xa0")}}function ue(i,l){if(1&i){const t=e.RV6();e.j41(0,"span",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG();return e.Njj(r.onSpanClick(n))}),e.EFF(1),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t)}}function ge(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,me,2,1,"span",5),e.DNE(2,ue,2,1,"span",6),e.k0s()),2&i){const t=l.last;e.R7$(1),e.Y8G("ngIf",!t),e.R7$(1),e.Y8G("ngIf",t)}}let y=(()=>{class i{constructor(){this.spanClicked=new e.bkB}ngOnChanges(){}onSpanClick(t){this.spanClicked.emit(t)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-pageheader"]],inputs:{title:"title",subtitle:"subtitle",customClass:"customClass"},outputs:{spanClicked:"spanClicked"},features:[e.OA$],decls:6,vars:2,consts:[[1,"custom-header"],[2,"margin-left","5px"],[1,"title"],[1,"subtitle"],[4,"ngFor","ngForOf"],["class","span",3,"click",4,"ngIf"],["class","",3,"click",4,"ngIf"],[1,"span",3,"click"],[1,"",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2),e.EFF(3),e.k0s(),e.j41(4,"mat-card-subtitle",3),e.DNE(5,ge,3,2,"div",4),e.k0s()()()),2&o&&(e.R7$(3),e.JRh(n.title),e.R7$(2),e.Y8G("ngForOf",n.subtitle))},dependencies:[u.Sq,u.bT,g.RN,g.MM,g.Lc,g.dh],styles:[".custom-header[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}mat-card[_ngcontent-%COMP%]{padding-bottom:16px;border-radius:0!important}.custom-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#fff}.subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;margin-top:10px}.span[_ngcontent-%COMP%]{cursor:pointer}span[_ngcontent-%COMP%]{font-size:larger;font-weight:400}.title[_ngcontent-%COMP%]{font-size:x-large;font-weight:500}"]})}}return i})();var Y=c(7575);const he=function(i){return["stat-card-content",i]};function fe(i,l){if(1&i&&(e.j41(0,"div",5)(1,"mat-card",6)(2,"mat-card-header")(3,"mat-card-subtitle",7),e.EFF(4),e.k0s()(),e.j41(5,"mat-card-content")(6,"h2",8),e.EFF(7),e.k0s(),e.nrm(8,"mat-progress-bar",9),e.j41(9,"small",10),e.EFF(10,"Monthly"),e.k0s()()()()),2&i){const t=l.$implicit;e.R7$(1),e.Y8G("ngClass",e.eq3(4,he,t.color)),e.R7$(3),e.JRh(t.title),e.R7$(3),e.JRh(t.amount),e.R7$(1),e.Y8G("value",t.progress.value)}}const be=function(){return["Home"]};let _e=(()=>{class i{constructor(t){this.common=t,this.title="dash",this.stats=[{title:"Total Sales",amount:"180,200",progress:{value:50},color:"blue"},{title:"Revenue",amount:"70,205",progress:{value:70},color:"green"},{title:"Traffic",amount:"1,291,922",progress:{value:80},color:"red"},{title:"New User",amount:"1,922",progress:{value:40},color:"orange"}],this.chartOptions={series:[{name:"Sales",data:[10,41,35,51,49,62,69,91,148]}],chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Product Trends by Month",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]},tooltip:{enabled:!0,theme:"dark"},yaxis:{title:{text:"Sales (in thousands)"}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}}redirectFromPageHeader(t){"Home"===t&&this.common.redirectTo("user")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.h))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-dashboard"]],decls:6,vars:7,consts:[[3,"title","subtitle","customClass","spanClicked"],[1,"stats-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"chart"],[3,"chartOptions"],[1,"stat-card"],[3,"ngClass"],[1,"stat-title"],[1,"stat-amount"],["mode","determinate","color","primary",1,"stat-progress-bar",3,"value"],[1,"stat-footer"]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1),e.DNE(2,fe,11,6,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"app-chart",4)(5,"app-chart",4),e.k0s()),2&o&&(e.Y8G("title","Dashboard")("subtitle",e.lJ4(6,be))("customClass","dashboard-custom-header"),e.R7$(2),e.Y8G("ngForOf",n.stats),e.R7$(2),e.Y8G("chartOptions",n.chartOptions),e.R7$(1),e.Y8G("chartOptions",n.chartOptions))},dependencies:[u.YU,u.Sq,pe,y,g.RN,g.m2,g.MM,g.Lc,Y.HM],styles:[".stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin:10px}.stat-card[_ngcontent-%COMP%]{display:flex}.stat-card-content[_ngcontent-%COMP%]{width:100%;border:0;color:#fff;padding:1rem;box-shadow:0 2px 8px #00000026;border-radius:8px}.blue[_ngcontent-%COMP%]{background-color:#6a89a7}.green[_ngcontent-%COMP%]{background-color:#8686ac}.red[_ngcontent-%COMP%]{background-color:#88bdf2}.orange[_ngcontent-%COMP%]{background-color:#384959}.stat-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem}.stat-amount[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1.5rem;font-weight:500}.stat-progress-bar[_ngcontent-%COMP%]{height:4px;margin-bottom:.5rem}.stat-footer[_ngcontent-%COMP%]{font-size:.75rem;color:#fffc}.chart[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:nowrap;justify-content:space-around}.chart[_ngcontent-%COMP%]   app-chart[_ngcontent-%COMP%]{width:100%}"]})}}return i})();const L=[{header:"ID",field:"id"},{header:"Name",field:"name"},{header:"Level",field:"level",sortable:!0},{header:"Edit",field:"edit",type:"button",pinned:"right",buttons:[{icon:"edit",type:"icon",tooltip:"Edit",click:i=>{}}]},{header:"Delete",field:"delete",type:"button",pinned:"left",buttons:[{icon:"delete",type:"icon",tooltip:"Delete",click:i=>{}}]}],z=[{header:"ID",field:"id",sortable:!0},{header:"Name",field:"name"},{header:"Description",field:"description"},{header:"Edit",field:"edit",type:"button",pinned:"right",buttons:[{icon:"edit",type:"icon",tooltip:"Edit",click:i=>{}}]},{header:"Delete",field:"delete",type:"button",pinned:"left",buttons:[{icon:"delete",type:"icon",tooltip:"Delete",click:i=>{}}]}],X=[{header:"ID",field:"id",sortable:!0},{header:"Name",field:"name"},{header:"Level",field:"level"},{header:"Status",field:"status",type:"button",buttons:[{icon:"add",type:"icon",tooltip:"Edit Permission",click:i=>{}}]},{header:"Edit",field:"edit",type:"button",pinned:"right",buttons:[{icon:"edit",type:"icon",tooltip:"Edit",click:i=>{}}]},{header:"Delete",field:"delete",type:"button",pinned:"left",buttons:[{icon:"delete",type:"icon",tooltip:"Delete",click:i=>{}}]}],N=[{header:"ID",field:"id",sortable:!0},{header:"Name",field:"name"},{header:"Email",field:"email"},{header:"Mobile",field:"mobile",sortable:!0},{header:"Role",field:"role"},{header:"UserId",field:"userId"},{header:"Edit",field:"edit",type:"button",pinned:"right",buttons:[{icon:"edit",type:"icon",tooltip:"Edit",click:i=>{}}]},{header:"Delete",field:"delete",type:"button",pinned:"left",buttons:[{icon:"delete",type:"icon",tooltip:"Delete",click:i=>{}}]}];var V=c(2765),A=c(5951),Ce=c(2140);function ve(i,l){1&i&&e.EFF(0),2&i&&e.SpI(" ",l.$implicit.name,"\n")}let S=(()=>{class i{constructor(){this.pageOnFront=!1,this.list=[],this.columns=[],this.isLoading=!1,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnSortable=!1,this.rowHover=!1,this.rowStriped=!1,this.expandable=!1,this.showPaginator=!0,this.columnResizable=!1,this.pageSize=10,this.pageIndex=0,this.pageSizeOptions=[5,10,50,100],this.totalItems=0,this.sortChange=new e.bkB,this.selectionChange=new e.bkB,this.pageChange=new e.bkB,this.editClicked=new e.bkB,this.deleteClicked=new e.bkB}enableRowExpandable(){this.columns[0].showExpand=this.expandable}changeSort(t){this.sortChange.emit(t)}changeSelect(t){this.selectionChange.emit(t)}onPageChange(t){console.log("EVENT",t),this.pageChange.emit({pageIndex:t.pageIndex,pageSize:t.pageSize})}edit(t){console.log("data",this.list),this.editClicked.emit(t)}delete(t){this.deleteClicked.emit(t)}logPin(t){console.log("EVENT",t),console.log("PINNED",this.columnPinnable)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-table"]],inputs:{pageOnFront:"pageOnFront",list:"list",columns:"columns",isLoading:"isLoading",multiSelectable:"multiSelectable",rowSelectable:"rowSelectable",hideRowSelectionCheckbox:"hideRowSelectionCheckbox",showToolbar:"showToolbar",columnHideable:"columnHideable",columnSortable:"columnSortable",columnPinnable:"columnPinnable",rowHover:"rowHover",rowStriped:"rowStriped",expandable:"expandable",showPaginator:"showPaginator",columnResizable:"columnResizable",pageSize:"pageSize",pageIndex:"pageIndex",pageSizeOptions:"pageSizeOptions",totalItems:"totalItems",expansionTpl:"expansionTpl"},outputs:{sortChange:"sortChange",selectionChange:"selectionChange",pageChange:"pageChange",editClicked:"editClicked",deleteClicked:"deleteClicked"},decls:32,vars:37,consts:[[1,"data-grid-options"],[3,"ngModel","ngModelChange"],[3,"value"],[3,"ngModel","ngModelChange","change"],[1,"table-border"],[3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnSortable","columnPinnable","expandable","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","length","sortChange","selectionChange","page","edit","delete"],["expansionTpl",""]],template:function(o,n){if(1&o&&(e.j41(0,"div",0)(1,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.rowSelectable=a}),e.EFF(2,"Row Selectable"),e.k0s(),e.j41(3,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.hideRowSelectionCheckbox=a}),e.EFF(4,"Hide checkbox"),e.k0s(),e.j41(5,"mat-radio-group",1),e.bIt("ngModelChange",function(a){return n.multiSelectable=a}),e.j41(6,"mat-radio-button",2),e.EFF(7,"Single Selectable"),e.k0s(),e.j41(8,"mat-radio-button",2),e.EFF(9,"Multiple Selectable"),e.k0s()(),e.j41(10,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.showToolbar=a}),e.EFF(11,"Show Toolbar"),e.k0s(),e.j41(12,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.columnHideable=a}),e.EFF(13,"Column Hiding"),e.k0s(),e.j41(14,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.columnSortable=a}),e.EFF(15,"Column Sorting"),e.k0s(),e.j41(16,"mat-checkbox",3),e.bIt("ngModelChange",function(a){return n.columnPinnable=a})("change",function(a){return n.logPin(a)}),e.EFF(17,"Column Pinning"),e.k0s(),e.j41(18,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.rowHover=a}),e.EFF(19,"Hover"),e.k0s(),e.j41(20,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.rowStriped=a}),e.EFF(21,"Striped"),e.k0s(),e.j41(22,"mat-checkbox",3),e.bIt("ngModelChange",function(a){return n.expandable=a})("change",function(){return n.enableRowExpandable()}),e.EFF(23,"Row Expandable"),e.k0s(),e.j41(24,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.showPaginator=a}),e.EFF(25,"Show Paginator"),e.k0s(),e.j41(26,"mat-checkbox",1),e.bIt("ngModelChange",function(a){return n.isLoading=a}),e.EFF(27,"Loading Status"),e.k0s()(),e.j41(28,"div",4)(29,"mtx-grid",5),e.bIt("sortChange",function(a){return n.changeSort(a)})("selectionChange",function(a){return n.changeSelect(a)})("page",function(a){return n.onPageChange(a)})("edit",function(a){return n.edit(a)})("delete",function(a){return n.delete(a)}),e.k0s()(),e.DNE(30,ve,1,1,"ng-template",null,6,e.C5r)),2&o){const r=e.sdS(31);e.R7$(1),e.Y8G("ngModel",n.rowSelectable),e.R7$(2),e.Y8G("ngModel",n.hideRowSelectionCheckbox),e.R7$(2),e.Y8G("ngModel",n.multiSelectable),e.R7$(1),e.Y8G("value",!1),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.Y8G("ngModel",n.showToolbar),e.R7$(2),e.Y8G("ngModel",n.columnHideable),e.R7$(2),e.Y8G("ngModel",n.columnSortable),e.R7$(2),e.Y8G("ngModel",n.columnPinnable),e.R7$(2),e.Y8G("ngModel",n.rowHover),e.R7$(2),e.Y8G("ngModel",n.rowStriped),e.R7$(2),e.Y8G("ngModel",n.expandable),e.R7$(2),e.Y8G("ngModel",n.showPaginator),e.R7$(2),e.Y8G("ngModel",n.isLoading),e.R7$(3),e.Y8G("data",n.list)("columns",n.columns)("loading",n.isLoading)("columnResizable",n.columnResizable)("multiSelectable",n.multiSelectable)("rowSelectable",n.rowSelectable)("hideRowSelectionCheckbox",n.hideRowSelectionCheckbox)("rowHover",n.rowHover)("rowStriped",n.rowStriped)("showToolbar",n.showToolbar)("toolbarTitle","Data Grid Toolbar")("columnHideable",n.columnHideable)("columnSortable",n.columnSortable)("columnPinnable",n.columnPinnable)("expandable",n.expandable)("expansionTemplate",r)("pageOnFront",n.showPaginator)("showPaginator",n.showPaginator)("pageSizeOptions",n.pageSizeOptions)("pageIndex",n.pageIndex)("pageSize",n.pageSize)("length",n.totalItems)("pageOnFront",n.pageOnFront)}},dependencies:[s.BC,s.vS,V.So,A.VT,A._g,Ce.Sq],styles:[".table-border[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:8px}  .mat-table-hover .mat-mdc-row:hover{background-color:#c7e7f3!important;cursor:pointer}"]})}}return i})();var B=c(9631),b=c(9213),k=c(8834);function ke(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.clearSearch())}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}}let T=(()=>{class i{constructor(){this.searchText="",this.search=new e.bkB}onSearchChange(){this.search.emit(this.searchText.trim())}clearSearch(){this.searchText="",this.search.emit("")}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-search-bar"]],outputs:{search:"search"},decls:9,vars:2,consts:[[1,"search"],["appearance","outline",1,"search-bar-field"],["matInput","","placeholder","Search...",2,"color","black !important",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","aria-label","Clear",3,"click",4,"ngIf"],[1,"search-button",3,"click"],["mat-icon-button","","matSuffix","","aria-label","Clear",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Search"),e.k0s(),e.j41(4,"input",2),e.bIt("ngModelChange",function(a){return n.searchText=a}),e.k0s(),e.DNE(5,ke,3,0,"button",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return n.onSearchChange()}),e.j41(7,"mat-icon"),e.EFF(8,"search"),e.k0s()()()),2&o&&(e.R7$(4),e.Y8G("ngModel",n.searchText),e.R7$(1),e.Y8G("ngIf",n.searchText))},dependencies:[u.bT,C.rl,C.nJ,C.yw,B.fg,s.me,s.BC,s.vS,b.An,k.iY],styles:[".search-bar-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;max-width:300px}.search-bar-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:8px 30px 8px 12px;border:1px solid #ccc;border-radius:4px;outline:none}.search-bar-wrapper[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:transparent;border:none;cursor:pointer;font-size:14px}.search[_ngcontent-%COMP%]{display:flex;flex-direction:row}.search-button[_ngcontent-%COMP%]{height:55px}"]})}}return i})();const Pe=function(){return{label:"Add User",color:"primary",disabled:!1,type:"button",customClass:"my-button-class"}};function xe(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"app-button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddUserlDialog())}),e.k0s()()}2&i&&(e.R7$(1),e.Y8G("data",e.lJ4(1,Pe)))}const Me=function(){return["Home","User Management"]},we=function(){return[5,10,50]};let ye=(()=>{class i{constructor(t,o,n){this.common=t,this.dialog=o,this.api=n,this.userList=[],this.totalUsers=0,this.currentPage=0,this.pageSize=5,this.tableColumns=N}ngOnInit(){this.tableColumns=N.map(t=>("edit"===t.field&&(t.buttons=[{icon:"edit",type:"icon",tooltip:"Edit",click:o=>this.onEdit(o)}]),"delete"===t.field&&(t.buttons=[{icon:"delete",type:"icon",tooltip:"Delete",click:o=>this.onDelete(o)}]),t)),this.getUsers(),this.checkDeletePermission(),this.checkUpdatePermission()}fetchUsers(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.getUsers(this.currentPage+1,this.pageSize)}onSearch(t){this.searchText=t,this.getUsers()}redirectTo(t){this.common.redirectTo(t)}openAddUserlDialog(){this.dialog.open(D,{}).afterClosed().subscribe(o=>{o&&this.getUsers()})}getUsers(t=1,o=5){const n={page:t,limit:o};this.searchText?.trim()&&(n.searchTxt=this.searchText.trim()),this.api.getUser(n).subscribe(r=>{const{users:a,meta:p}=r.data;this.userList=a.map((m,M)=>({id:M+1,name:m.name,email:m.email,mobile:m.mobileNumber,role:m.role.roleName,userId:m.userId})),this.totalUsers=p.totalItems})}checkAddPermission(){return this.common.checkAddPermission("Users Management")}redirectFromPageHeader(t){"Home"===t&&this.common.redirectTo("user")}checkUpdatePermission(){if(!this.common.checkUpdatePermission("Users Management")){const t=this.tableColumns.findIndex(o=>"Edit"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}checkDeletePermission(){if(!this.common.checkDeletePermission("Users Management")){const t=this.tableColumns.findIndex(o=>"Delete"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}onSortChange(t){console.log("Sort changed:",t)}onSelectionChange(t){console.log("Selection changed:",t)}onEdit(t){console.log("Edit clicked:",t)}onDelete(t){console.log("Delete clicked:",t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.h),e.rXU(d.bZ),e.rXU(h.G))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-usermanagement"]],decls:6,vars:18,consts:[[3,"title","subtitle","customClass","spanClicked"],[1,"main-containt"],[1,"toolbar-row"],[3,"search"],["class","adduser",4,"ngIf"],[3,"list","columns","pageSize","pageIndex","pageSizeOptions","isLoading","showPaginator","showToolbar","totalItems","expandable","columnPinnable","columnResizable","sortChange","pageChange","selectionChange"],[1,"adduser"],[3,"data","click"]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"app-search-bar",3),e.bIt("search",function(a){return n.onSearch(a)}),e.k0s(),e.DNE(4,xe,2,2,"div",4),e.k0s(),e.j41(5,"app-table",5),e.bIt("sortChange",function(a){return n.onSortChange(a)})("pageChange",function(a){return n.fetchUsers(a)})("selectionChange",function(a){return n.onSelectionChange(a)}),e.k0s()()),2&o&&(e.Y8G("title","User Management")("subtitle",e.lJ4(16,Me))("customClass","user-custom-header"),e.R7$(4),e.Y8G("ngIf",n.checkAddPermission()),e.R7$(1),e.Y8G("list",n.userList)("columns",n.tableColumns)("pageSize",n.pageSize)("pageIndex",n.currentPage)("pageSizeOptions",e.lJ4(17,we))("isLoading",!1)("showPaginator",!0)("showToolbar",!0)("totalItems",n.totalUsers)("expandable",!1)("columnPinnable",!0)("columnResizable",!0))},dependencies:[u.bT,f.Q,S,T,y],styles:[".heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.adduser[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;padding-bottom:15px}.toolbar-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;margin:1rem 0}.toolbar-row[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{flex:1 1 300px;min-width:250px}.toolbar-row[_ngcontent-%COMP%]   .adduser[_ngcontent-%COMP%]{flex:0 0 auto}@media (max-width: 480px){.adduser[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}}.main-containt[_ngcontent-%COMP%]{padding:16px}"]})}}return i})(),H=(()=>{class i{constructor(){this.label="",this.checked=!1,this.disabled=!1,this.changed=new e.bkB}onChange(t){this.changed.emit(t)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-checkbox"]],inputs:{label:"label",checked:"checked",disabled:"disabled"},outputs:{changed:"changed"},decls:2,vars:3,consts:[[3,"checked","disabled","change"]],template:function(o,n){1&o&&(e.j41(0,"mat-checkbox",0),e.bIt("change",function(a){return n.onChange(a.checked)}),e.EFF(1),e.k0s()),2&o&&(e.Y8G("checked",n.checked)("disabled",n.disabled),e.R7$(1),e.SpI(" ",n.label,"\n"))},dependencies:[V.So],styles:["mat-checkbox[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-frame[_ngcontent-%COMP%]{border-radius:4px}mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#1976d2}"]})}}return i})();function Oe(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-checkbox",15),e.bIt("changed",function(n){const a=e.eBV(t).$implicit,p=e.XpG().$implicit,m=e.XpG();return e.Njj(m.onPermissionChange(p,a,n))}),e.k0s()}if(2&i){const t=l.$implicit,o=e.XpG().$implicit;e.Y8G("label",t)("checked",o.permissions[t])}}function Re(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"div",10)(2,"h4"),e.EFF(3),e.k0s()(),e.j41(4,"div",11)(5,"div",12)(6,"app-checkbox",13),e.bIt("changed",function(n){const a=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.onAllPermissionsChange(a,n))}),e.k0s(),e.DNE(7,Oe,1,2,"app-checkbox",14),e.k0s()()()}if(2&i){const t=l.$implicit,o=e.XpG();e.R7$(3),e.JRh(t.module.name),e.R7$(3),e.Y8G("checked",o.isAllChecked(t.permissions)),e.R7$(1),e.Y8G("ngForOf",o.getPermissionKeys(t.permissions))}}const Se=function(i){return{label:"Name",placeholder:"Enter your name",type:"text",control:i,errorMessage:"Name is required",customClass:"input-style"}},Te=function(i,l){return{label:"Level",placeholder:"Select a level",options:i,control:l,errorMessage:"Level is required",customClass:"input-style"}},Fe=function(){return{label:"Submit",color:"primary",icon:"send",disabled:!1,type:"submit",customClass:"my-button-class"}};let q=(()=>{class i{constructor(t,o,n,r,a){this.fb=t,this.api=o,this.toastr=n,this.dialogRef=r,this.data=a,this.levelOptions=[],this.myForm=this.fb.group({roleName:["",s.k0.required],levelId:["",s.k0.required]})}ngOnInit(){this.getRole(),this.getLevelOptions()}get nameControl(){return this.myForm.get("roleName")}get levelControl(){return this.myForm.get("levelId")}getLevelOptions(){this.api.getLevel().subscribe({next:t=>{this.levelOptions=t.data.levels.map(o=>({label:o.levelId,value:o.uuid}))}})}onSubmit(){if(this.myForm.valid){const t=this.roles.map(n=>({moduleId:n.moduleId,permission:n.permissions})),o={...this.myForm.value,permissions:t};this.api.addRole(o).subscribe({next:n=>{this.toastr.success("Role added successfully"),this.dialogRef.close()},error:n=>{}})}}handleChange(t){}getRole(){this.api.loggedInUser().subscribe(t=>{const o=t.data;o&&(this.roles=o.RoleModulePermissions.map(n=>{const r=n.permission,a=Object.keys(r).filter(p=>!0===r[p]).reduce((p,m)=>(p[m]=!1,p),{});return{moduleId:n.moduleId,module:n.module,permissions:a}}))})}getPermissionKeys(t){return Object.keys(t)}isAllChecked(t){return Object.values(t).every(o=>!0===o)}onAllPermissionsChange(t,o){Object.keys(t.permissions).forEach(n=>{t.permissions[n]=o})}onPermissionChange(t,o,n){t.permissions[o]=n}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(s.ok),e.rXU(h.G),e.rXU(P.tw),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-role"]],decls:13,vars:11,consts:[[1,"container"],[1,"heading"],[3,"formGroup","ngSubmit"],[1,"fields"],[3,"data"],[1,"permissions-section"],[1,"section-title"],["class","module",4,"ngFor","ngForOf"],[1,"button-container"],[1,"module"],[1,"module-header"],[1,"module-body"],[1,"checkbox-row"],["label","All",3,"checked","changed"],[3,"label","checked","changed",4,"ngFor","ngForOf"],[3,"label","checked","changed"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Add Role"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(4,"div",3),e.nrm(5,"app-input",4)(6,"app-select",4),e.j41(7,"div",5)(8,"h3",6),e.EFF(9,"Module Permissions"),e.k0s(),e.DNE(10,Re,8,3,"div",7),e.k0s()(),e.j41(11,"div",8),e.nrm(12,"app-button",4),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.myForm),e.R7$(2),e.Y8G("data",e.eq3(5,Se,n.nameControl)),e.R7$(1),e.Y8G("data",e.l_i(7,Te,n.levelOptions,n.levelControl)),e.R7$(4),e.Y8G("ngForOf",n.roles),e.R7$(2),e.Y8G("data",e.lJ4(10,Fe)))},dependencies:[u.Sq,s.qT,s.cb,s.j4,O.S,f.Q,F,H],styles:[".container[_ngcontent-%COMP%]{width:auto;margin:40px auto;background:#fff;padding:30px;border-radius:16px;box-shadow:0 8px 24px #0000001a}.heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;font-size:1.8rem;font-weight:600}.fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.permissions-section[_ngcontent-%COMP%]{margin-top:30px;max-height:300px;overflow-y:auto;padding-right:6px}.section-title[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:16px;border-bottom:2px solid #ddd;padding-bottom:8px}.module[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:12px;background-color:#fafafa;margin-bottom:12px}.module-header[_ngcontent-%COMP%]{padding:10px 16px;background-color:#f0f0f0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:500}.module-body[_ngcontent-%COMP%]{padding:12px 16px}.checkbox-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:center}.permissions-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.permissions-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.permissions-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}.permissions-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px}@media (max-width: 600px){.container[_ngcontent-%COMP%]{padding:20px}.heading[_ngcontent-%COMP%]{font-size:1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem}.module-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem}}"]})}}return i})();function Ie(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-checkbox",11),e.bIt("changed",function(n){const a=e.eBV(t).$implicit,p=e.XpG().$implicit,m=e.XpG();return e.Njj(m.onPermissionChange(p,a,n))}),e.k0s()}if(2&i){const t=l.$implicit,o=e.XpG().$implicit;e.Y8G("label",t)("checked",o.permission[t])}}function je(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"h4"),e.EFF(3),e.k0s()(),e.j41(4,"div",8)(5,"app-checkbox",9),e.bIt("changed",function(n){const a=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.onAllPermissionsChange(a,n))}),e.k0s(),e.DNE(6,Ie,1,2,"app-checkbox",10),e.k0s()()}if(2&i){const t=l.$implicit,o=e.XpG();e.R7$(3),e.JRh(t.module.name),e.R7$(2),e.Y8G("checked",o.isAllChecked(t.permission)),e.R7$(1),e.Y8G("ngForOf",o.getPermissionKeys(t.permission))}}const Ee=function(){return{label:"Submit",color:"primary",icon:"send",disabled:!1,type:"submit",customClass:"my-button-class"}};let Ge=(()=>{class i{constructor(t,o,n,r){this.api=t,this.toastr=o,this.dialogRef=n,this.data=r,this.roleData=JSON.parse(JSON.stringify(this.data)),this.getRole()}isAllChecked(t){return Object.values(t).every(o=>!0===o)}onAllPermissionsChange(t,o){Object.keys(t.permission).forEach(n=>{t.permission[n]=o})}onPermissionChange(t,o,n){t.permission[o]=n}getPermissionKeys(t){return Object.keys(t)}onClose(){this.dialogRef.close()}getRole(){this.api.loggedInUser().subscribe(t=>{t.data.RoleModulePermissions.map(o=>{const n=this.roleData.permissions.findIndex(r=>r.moduleId==o.moduleId);if(-1!=n)for(const r in o.permission)this.roleData.permissions[n].permission[r]||(this.roleData.permissions[n].permission[r]=!1);else{let r=o.permission;for(let a in r)"boolean"==typeof r[a]&&(r[a]=!1);this.roleData.permissions.push({...o,permissionId:"",uuid:"",permission:r})}})})}updatePermission(){const t=this.roleData.permissions.map(n=>({...n.permission,uuid:n.permissionId,moduleId:n.moduleId}));this.api.updateRole({roleId:this.roleData.roleId,permissions:t}).subscribe({next:n=>{this.toastr.success("Permission updated successfully"),this.dialogRef.close(n.data)},error:n=>{}}),this.onClose()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(h.G),e.rXU(P.tw),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-role-update"]],decls:10,vars:3,consts:[[1,"dialog-container"],[1,"dialog-header"],["mat-icon-button","","color","warn",3,"click"],["class","permissions-section",4,"ngFor","ngForOf"],[1,"button-container"],[3,"data","click"],[1,"permissions-section"],[1,"module-header"],[1,"checkbox-row"],["label","All",3,"checked","changed"],[3,"label","checked","changed",4,"ngFor","ngForOf"],[3,"label","checked","changed"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Module Permissions"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return n.onClose()}),e.j41(5,"mat-icon"),e.EFF(6,"close"),e.k0s()()(),e.DNE(7,je,7,3,"div",3),e.j41(8,"div",4)(9,"app-button",5),e.bIt("click",function(){return n.updatePermission()}),e.k0s()()()),2&o&&(e.R7$(7),e.Y8G("ngForOf",n.roleData.permissions),e.R7$(2),e.Y8G("data",e.lJ4(2,Ee)))},dependencies:[u.Sq,f.Q,H,b.An,k.iY],styles:[".dialog-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;min-width:300px;width:100%;max-height:80vh;min-height:300px;height:auto;overflow-y:auto;box-sizing:border-box}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:.5rem;margin-bottom:1rem}.permissions-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.module-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem;color:#333}.checkbox-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.8rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}"]})}}return i})(),$e=(()=>{class i{constructor(t,o,n,r){this.api=t,this.toastr=o,this.dialogRef=n,this.data=r}closeDialog(){this.dialogRef.close()}onNoClick(){this.dialogRef.close(!1)}deleteRole(){this.isProcessing||(this.isProcessing=!0)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(h.G),e.rXU(P.tw),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-delete-dialog"]],decls:12,vars:0,consts:[[1,"dialog-wrapper"],[1,"icon-wrapper"],[1,"icon-circle"],["fontIcon","delete","aria-hidden","false","aria-label","Delete icon"],[1,"confirm-text"],[1,"button-container"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"mat-dialog-content")(2,"div",1)(3,"div",2),e.nrm(4,"mat-icon",3),e.k0s()(),e.j41(5,"h4",4),e.EFF(6,"Are you sure you want to Delete?"),e.k0s(),e.j41(7,"div",5)(8,"button",6),e.bIt("click",function(){return n.onNoClick()}),e.EFF(9,"No"),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){return n.deleteRole()}),e.EFF(11,"Yes"),e.k0s()()()())},dependencies:[b.An,d.Yi,k.$z],styles:[".dialog-wrapper[_ngcontent-%COMP%]{text-align:center;padding:1rem;max-width:100%;box-sizing:border-box}.icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.icon-circle[_ngcontent-%COMP%]{background-color:#ffe5e5;border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #ff00004d}mat-icon[_ngcontent-%COMP%]{font-size:36px;color:#d32f2f}.confirm-text[_ngcontent-%COMP%]{font-weight:700;color:#333;margin:1rem 0;font-size:1.1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem;margin-top:1rem;flex-wrap:wrap}button[mat-flat-button][_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1.5rem;font-weight:600;min-width:100px}@media (max-width: 480px){button[mat-flat-button][_ngcontent-%COMP%]{min-width:80px;font-size:.9rem;padding:.4rem 1rem}}"]})}}return i})();const Ue=["statusTemplate"],De=["deleteTemplate"],Ye=function(){return{label:"Add Role",color:"primary",disabled:!1,type:"button",customClass:"my-button-class"}};function Le(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"app-button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddRolelDialog())}),e.k0s()()}2&i&&(e.R7$(1),e.Y8G("data",e.lJ4(1,Ye)))}function ze(i,l){if(1&i){const t=e.RV6();e.j41(0,"mat-icon",10),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openPermissionDialog(r))}),e.EFF(1),e.k0s()}2&i&&(e.R7$(1),e.JRh("add"))}function Xe(i,l){if(1&i){const t=e.RV6();e.j41(0,"mat-icon",10),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openDeleteDialog(r))}),e.EFF(1),e.k0s()}2&i&&(e.R7$(1),e.JRh("delete"))}const Ne=function(){return["Home","Role Management"]},Ve=function(){return[5,10,50]};let Ae=(()=>{class i{constructor(t,o,n){this.common=t,this.api=o,this.dialog=n,this.roleList=[],this.totalRoles=0,this.currentPage=0,this.pageSize=5,this.searchText="",this.tableColumns=X,this.columnTemplatesMap={}}ngOnInit(){this.tableColumns=X.map(t=>("edit"===t.field&&(t.buttons=[{icon:"edit",type:"icon",tooltip:"Edit",click:o=>this.onEdit(o)}]),"delete"===t.field&&(t.buttons=[{icon:"delete",type:"icon",tooltip:"Delete",click:o=>this.openDeleteDialog(o)}]),"status"===t.field&&(t.buttons=[{icon:"add",type:"icon",tooltip:"Edit Permission",click:o=>this.openPermissionDialog(o)}]),t)),this.checkUpdatePermission(),this.checkDeletePermission(),this.getRole()}ngAfterViewInit(){this.columnTemplatesMap={status:this.statusTemplate,delete:this.deleteTemplate}}fetchUsers(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.getRole(this.currentPage+1,this.pageSize)}redirectTo(t){this.common.redirectTo(t)}getRole(t=1,o=5){let n={page:t,limit:o};this.searchText?.trim()&&(n.searchTxt=this.searchText.trim()),this.api.getRole(n).subscribe(r=>{const{roles:a,meta:p}=r.data;this.roleList=a.map((m,M)=>({id:M+1,name:m.roleName,level:`Level ${m.level.levelId}`,roleId:m.uuid,permissions:m.RoleModulePermissions})),this.totalRoles=p.totalItems})}onSearch(t){this.searchText=t,this.getRole()}openAddRolelDialog(){this.dialog.open(q,{}).afterClosed().subscribe(o=>{this.getRole()})}permissions(t,o){return this.common.checkpermission(t,o)}openPermissionDialog(t){this.dialog.open(Ge,{data:t}).afterClosed().subscribe(n=>{this.getRole()})}deleteDialog(t,o,n){this.dialog.open($e,{width:"400px",maxWidth:"90vw",panelClass:"dialog-layout",disableClose:!0,enterAnimationDuration:t,exitAnimationDuration:o,data:n}).afterClosed().subscribe(a=>{this.getRole()})}checkUpdatePermission(){if(!this.common.checkUpdatePermission("Role Management")){const t=this.tableColumns.findIndex(o=>"Edit"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}checkDeletePermission(){if(!this.common.checkDeletePermission("Role Management")){const t=this.tableColumns.findIndex(o=>"Delete"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}openDeleteDialog(t){this.deleteDialog("500ms","500ms",t)}redirectFromPageHeader(t){"Home"===t&&this.common.redirectTo("user")}onSortChange(t){console.log("Sort changed:",t)}onSelectionChange(t){console.log("Selection changed:",t)}onEdit(t){console.log("Edit clicked:",t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.h),e.rXU(h.G),e.rXU(d.bZ))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-rolemanagement"]],viewQuery:function(o,n){if(1&o&&(e.GBs(Ue,5),e.GBs(De,5)),2&o){let r;e.mGM(r=e.lsd())&&(n.statusTemplate=r.first),e.mGM(r=e.lsd())&&(n.deleteTemplate=r.first)}},decls:10,vars:15,consts:[[3,"title","subtitle","spanClicked"],[1,"main-containt"],[1,"toolbar-row"],[3,"search"],["class","adduser",4,"ngIf"],[3,"list","columns","pageSize","pageIndex","pageSizeOptions","isLoading","showPaginator","showToolbar","totalItems","columnPinnable","sortChange","pageChange","selectionChange"],["statusTemplate",""],["deleteTemplate",""],[1,"adduser"],[3,"data","click"],["color","primary",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"app-search-bar",3),e.bIt("search",function(a){return n.onSearch(a)}),e.k0s(),e.DNE(4,Le,2,2,"div",4),e.k0s(),e.j41(5,"app-table",5),e.bIt("sortChange",function(a){return n.onSortChange(a)})("pageChange",function(a){return n.fetchUsers(a)})("selectionChange",function(a){return n.onSelectionChange(a)}),e.k0s(),e.DNE(6,ze,2,1,"ng-template",null,6,e.C5r),e.DNE(8,Xe,2,1,"ng-template",null,7,e.C5r),e.k0s()),2&o&&(e.Y8G("title","Role Management")("subtitle",e.lJ4(13,Ne)),e.R7$(4),e.Y8G("ngIf",n.permissions("Role Management","write")),e.R7$(1),e.Y8G("list",n.roleList)("columns",n.tableColumns)("pageSize",n.pageSize)("pageIndex",n.currentPage)("pageSizeOptions",e.lJ4(14,Ve))("isLoading",!1)("showPaginator",!0)("showToolbar",!0)("totalItems",n.totalRoles)("columnPinnable",!0))},dependencies:[u.bT,f.Q,S,T,y,b.An],styles:[".heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}app-header[_ngcontent-%COMP%]   .adduser[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;padding-bottom:15px}.toolbar-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:1rem 0;flex-wrap:wrap;gap:1rem}.toolbar-row[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{flex:1 1 300px;min-width:250px}.toolbar-row[_ngcontent-%COMP%]   .adduser[_ngcontent-%COMP%]{flex:0 0 auto}@media (max-width: 480px){.adduser[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}}.main-containt[_ngcontent-%COMP%]{padding:16px}"]})}}return i})();var R=c(9327),Be=c(9395),He=c(1765),qe=c(6354),Je=c(6496),Qe=c(5911),_=c(3902),x=c(882),I=c(9454);function We(i,l){1&i&&e.eu8(0)}const J=function(i){return{$implicit:i}};function Ke(i,l){if(1&i&&(e.qex(0),e.DNE(1,We,1,0,"ng-container",12),e.bVm()),2&i){const t=e.XpG().$implicit;e.XpG();const o=e.sdS(18);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(2,J,t))}}function Ze(i,l){if(1&i&&(e.qex(0),e.DNE(1,Ke,2,4,"ng-container",11),e.bVm()),2&i){const t=l.$implicit,o=e.XpG();e.R7$(1),e.Y8G("ngIf",o.hasPermission(t))}}function et(i,l){if(1&i&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function tt(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"a",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG();return e.Njj(r.redirectTo(n.redirectTo))}),e.DNE(2,et,2,1,"mat-icon",11),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG().$implicit,o=e.XpG();e.R7$(1),e.AVh("active",o.isActive(t.redirectTo)),e.R7$(1),e.Y8G("ngIf",t.icon),e.R7$(2),e.JRh(t.name)}}function nt(i,l){if(1&i&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(1),e.JRh(t.icon)}}function ot(i,l){1&i&&e.eu8(0)}function it(i,l){if(1&i&&(e.qex(0),e.DNE(1,ot,1,0,"ng-container",12),e.bVm()),2&i){const t=l.$implicit;e.XpG(3);const o=e.sdS(18);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(2,J,t))}}function at(i,l){if(1&i&&(e.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e.DNE(3,nt,2,1,"mat-icon",11),e.EFF(4),e.k0s()(),e.j41(5,"mat-nav-list"),e.DNE(6,it,2,4,"ng-container",9),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.Y8G("ngIf",t.icon),e.R7$(1),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("ngForOf",t.sublist)}}function rt(i,l){if(1&i&&(e.DNE(0,tt,5,4,"ng-container",13),e.DNE(1,at,7,3,"ng-template",null,14,e.C5r)),2&i){const t=l.$implicit,o=e.sdS(2);e.Y8G("ngIf",!t.sublist||0===t.sublist.length)("ngIfElse",o)}}const st=["*"];let lt=(()=>{class i{ngOnInit(){this.getUserInfo()}constructor(t,o,n,r){this.breakpointObserver=t,this.api=o,this.common=n,this.router=r,this.isHandset=!1,this.user={avatar:"https://i.pravatar.cc/150?img=3",username:"",userEmail:""},this.isHandset$=this.breakpointObserver.observe(R.Rp.Handset).pipe((0,qe.T)(a=>(this.isHandset=a.matches,a.matches)),(0,Je.t)()),this.sidebarItems=[{name:"Dashboard",icon:"dashboard",redirectTo:"/"},{name:"User ",icon:"group",redirectTo:"/usermanagement",permission:{module:"Users Management",operation:"read"}},{name:"Role",icon:"admin_panel_settings",redirectTo:"/rolemanagement",permission:{module:"Module Management",operation:"read"}},{name:"Level",icon:"layers",redirectTo:"/levelmanagement"},{name:"Module",icon:"view_module",redirectTo:"/modulemanagement"},{name:"Test Link",icon:"link",sublist:[{name:"Item1",icon:"dashboard",redirectTo:"/testlink/item1",sublist:[{name:"levels",icon:"layers",redirectTo:"/usermanagement"},{name:"level2",icon:"stairs",redirectTo:"/testlink/item1/level2"}]},{name:"Item2",icon:"dashboard",redirectTo:"/testlink/item2"},{name:"Item3",icon:"dashboard",redirectTo:"/testlink/item3"}]}]}redirectTo(t){t&&this.common.redirectTo(t)}isActive(t){return!!t&&(this.router.url===t||this.router.url.startsWith(t+"/"))}permissions(t,o){return this.common.checkpermission(t,o)}hasPermission(t){return!t.permission||this.permissions(t.permission.module,t.permission.operation)}getUserInfo(){this.api.loggedInUser().subscribe(t=>{const o=t.data;o&&(this.user.username=o.name,this.user.userEmail=o.email)})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(R.QP),e.rXU(h.G),e.rXU(v.h),e.rXU(w.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-sidebar"]],ngContentSelectors:st,decls:19,vars:6,consts:[[1,"sidenav-container"],[1,"sidenav",3,"mode","opened"],["color","primary",1,"sidenav-toolbar"],["src","assets/images/applogo.png","alt","Logo",1,"sidenav-logo"],[1,"profile-section"],["alt","avatar",1,"avatar",3,"src"],[1,"profile-info"],[1,"name"],[1,"email"],[4,"ngFor","ngForOf"],["renderItem",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["expandable",""],["mat-list-item","",3,"click"]],template:function(o,n){1&o&&(e.NAR(),e.j41(0,"mat-sidenav-container",0)(1,"mat-sidenav",1)(2,"mat-toolbar",2),e.nrm(3,"img",3),e.j41(4,"span"),e.EFF(5,"MyApp"),e.k0s()(),e.j41(6,"div",4),e.nrm(7,"img",5),e.j41(8,"div",6)(9,"div",7),e.EFF(10),e.k0s(),e.j41(11,"div",8),e.EFF(12),e.k0s()()(),e.j41(13,"mat-nav-list"),e.DNE(14,Ze,2,1,"ng-container",9),e.k0s()(),e.j41(15,"mat-sidenav-content"),e.SdG(16),e.k0s()(),e.DNE(17,rt,3,2,"ng-template",null,10,e.C5r)),2&o&&(e.R7$(1),e.Y8G("mode",n.isHandset?"over":"side")("opened",!n.isHandset),e.R7$(6),e.Y8G("src",n.user.avatar,e.B4B),e.R7$(3),e.JRh(n.user.username),e.R7$(2),e.JRh(n.user.userEmail),e.R7$(2),e.Y8G("ngForOf",n.sidebarItems))},dependencies:[u.Sq,u.bT,u.T3,b.An,Qe.KQ,_._L,_.YE,x.LG,x.US,x.El,I.GK,I.Z2,I.WN],styles:[".sidenav-container[_ngcontent-%COMP%]{height:95.56vh}.sidenav[_ngcontent-%COMP%]{width:260px;background-color:#f5f5f5;display:flex;flex-direction:column;padding:0;box-shadow:2px 0 5px #0000001a}.sidenav-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}.sidenav-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;gap:10px;font-size:18px;font-weight:700}.sidenav-logo[_ngcontent-%COMP%]{background-color:#7e57c2;color:#fff;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.profile-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background-color:#fff;margin:0 16px;border-radius:10px}.profile-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;margin-right:10px}.profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700}.profile-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:12px;color:#666}.sidenav-scroll[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;margin-top:10px;margin-bottom:10px;padding:0 8px;scrollbar-width:none;-ms-overflow-style:none}.sidenav-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}a.mat-list-item.active[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;font-weight:600}a.mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.mat-expansion-panel[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;font-weight:600}.badge-new[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:2px 8px;border-radius:8px;font-size:10px;font-weight:700;margin-left:auto;position:absolute;right:16px}.badge-count[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 8px;margin-left:auto;position:absolute;right:16px}"]})}}return i})(),ct=(()=>{class i{constructor(t){this.breakpointObserver=t,this.isScreenSmall=!1,this.isSmallScreen=!1,this.breakpointObserver.observe([R.Rp.Handset,R.Rp.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches})}ngOnInit(){this.checkScreenSize()}onResize(t){this.checkScreenSize()}checkScreenSize(){this.isScreenSmall=window.innerWidth<768}onSidenavClose(){}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(R.QP))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user"]],hostBindings:function(o,n){1&o&&e.bIt("resize",function(a){return n.onResize(a)},!1,e.tSv)},decls:9,vars:2,consts:[[1,"main-container"],[3,"mode","opened"],["sidenav",""],[1,"fixed-header"],[3,"menuToggle"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),e.nrm(3,"app-sidebar"),e.k0s(),e.j41(4,"mat-sidenav-content")(5,"div",3)(6,"app-header",4),e.bIt("menuToggle",function(){e.eBV(r);const p=e.sdS(2);return e.Njj(p.toggle())}),e.k0s()(),e.nrm(7,"router-outlet"),e.k0s()(),e.nrm(8,"app-footer")}2&o&&(e.R7$(1),e.Y8G("mode",n.isSmallScreen?"over":"side")("opened",!n.isSmallScreen))},dependencies:[w.n3,Be.l,He.n,lt,x.LG,x.US,x.El],styles:[".main-container[_ngcontent-%COMP%]{height:auto;min-height:95.6vh;display:flex;flex-direction:column}.fixed-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background:#3f51b5;width:100%;display:flex;align-items:center;box-sizing:border-box;min-height:48px;max-height:80px}@media (max-width: 768px){.fixed-header[_ngcontent-%COMP%]{padding:6px 8px;min-height:40px}}app-footer[_ngcontent-%COMP%]{height:40px;text-align:center;background:#f1f1f1;line-height:40px}@media (max-width: 768px){app-footer[_ngcontent-%COMP%]{font-size:.85rem}}mat-sidenav[_ngcontent-%COMP%]{width:250px}@media (max-width: 768px){mat-sidenav[_ngcontent-%COMP%]{width:200px}}@media only screen and (min-width: 992px){.fixed-header[_ngcontent-%COMP%]{display:block!important}}@media only screen and (min-width: 1200px){.fixed-header[_ngcontent-%COMP%]{display:block!important}}"]})}}return i})();const dt=function(i){return{label:"Level",placeholder:"Enter your level",type:"number",control:i,errorMessage:"Level is required",customClass:"my-input-style"}},pt=function(i){return{label:"Submit",color:"primary",icon:"send",disabled:i,type:"submit",customClass:"my-button-class"}};let mt=(()=>{class i{constructor(t,o,n,r,a){this.fb=t,this.apiService=o,this.toaster=n,this.dialogRef=r,this.data=a,this.levelForm=this.fb.group({id:["",[s.k0.required,s.k0.pattern(/^\d+$/)]]})}get levelControl(){return this.levelForm.get("id")}onCancel(){this.dialogRef.close()}onSave(){this.levelForm.valid&&this.apiService.createLevel({levelId:+this.levelForm.value.id,status:"active"}).subscribe({next:o=>{this.toaster.success("Level created successfully"),this.dialogRef.close(!0)},error:o=>{}})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(s.ok),e.rXU(h.G),e.rXU(P.tw),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-level-dialog"]],decls:7,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[3,"data"],[1,"button-container"]],template:function(o,n){1&o&&(e.j41(0,"h2",0),e.EFF(1,"Add New Level"),e.k0s(),e.j41(2,"mat-dialog-content")(3,"form",1),e.bIt("ngSubmit",function(){return n.onSave()}),e.nrm(4,"app-input",2),e.j41(5,"div",3),e.nrm(6,"app-button",2),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.levelForm),e.R7$(1),e.Y8G("data",e.eq3(3,dt,n.levelControl)),e.R7$(2),e.Y8G("data",e.eq3(5,pt,n.levelForm.invalid)))},dependencies:[s.qT,s.cb,s.j4,O.S,f.Q,d.BI,d.Yi],styles:[".mat-dialog-container{border-radius:16px;padding:24px;box-shadow:0 8px 24px #0003;width:90vw;max-width:400px;max-height:90vh;overflow:auto}.dialog-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;text-align:center;margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.dialog-actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:flex-end;gap:8px}button[mat-stroked-button][_ngcontent-%COMP%], button[mat-flat-button][_ngcontent-%COMP%]{border-radius:8px}.button-container[_ngcontent-%COMP%]{color:#000;display:flex;flex-direction:row;justify-content:center}"]})}}return i})();const ut=function(){return{label:"Add Level",color:"primary",disabled:!1,type:"button",customClass:"my-button-class"}};function gt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"app-button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddLevelDialog())}),e.k0s()()}2&i&&(e.R7$(1),e.Y8G("data",e.lJ4(1,ut)))}const ht=function(){return["Home","Level Management"]},ft=function(){return[5,10,50]};let bt=(()=>{class i{constructor(t,o,n){this.common=t,this.api=o,this.dialog=n,this.levelList=[],this.totalLevels=0,this.currentPage=0,this.pageSize=5,this.tableColumns=L}ngOnInit(){this.tableColumns=L.map(t=>("edit"===t.field&&(t.buttons=[{icon:"edit",type:"icon",tooltip:"Edit",click:o=>this.onEdit(o)}]),"delete"===t.field&&(t.buttons=[{icon:"delete",type:"icon",tooltip:"Delete",click:o=>this.onDelete(o)}]),t)),this.getLevel(),this.checkDeletePermission(),this.checkUpdatePermission()}fetchLevels(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.getLevel(this.currentPage+1,this.pageSize)}onSearch(t){this.searchText=t,this.getLevel()}redirectTo(t){this.common.redirectTo(t)}openAddLevelDialog(){this.dialog.open(mt,{}).afterClosed().subscribe(o=>{o&&this.getLevel()})}getLevel(t=1,o=5){let n={page:t,limit:o};this.searchText?.trim()&&(n.searchTxt=this.searchText.trim()),this.api.getLevel(n).subscribe({next:r=>{const{levels:a,meta:p}=r.data;this.levelList=a.map((m,M)=>({id:M+1,name:`Level ${m.levelId}`,level:m.levelId})),this.totalLevels=p.totalItems}})}checkAddPermission(){return this.common.checkAddPermission("Level Management")}redirectFromPageHeader(t){"Home"===t&&this.common.redirectTo("user")}checkUpdatePermission(){if(!this.common.checkUpdatePermission("Level Management")){const t=this.tableColumns.findIndex(o=>"Edit"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}checkDeletePermission(){if(!this.common.checkDeletePermission("Level Management")){const t=this.tableColumns.findIndex(o=>"Delete"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}onSortChange(t){console.log("Sort changed:",t)}onPageChange(t){console.log("Page change:",t)}onSelectionChange(t){console.log("Selection changed:",t)}onEdit(t){console.log(this.levelList),console.log("Edit clicked:",t)}onDelete(t){console.log("Delete clicked:",t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.h),e.rXU(h.G),e.rXU(d.bZ))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-levelmanagement"]],decls:6,vars:16,consts:[[3,"title","subtitle","customClass","spanClicked"],[1,"main-containt"],[1,"toolbar-row"],[3,"search"],["class","adduser",4,"ngIf"],[3,"list","columns","pageSize","pageIndex","pageSizeOptions","isLoading","showPaginator","showToolbar","totalItems","columnPinnable","sortChange","pageChange","selectionChange","editClicked","deleteClicked"],[1,"adduser"],[3,"data","click"]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"app-search-bar",3),e.bIt("search",function(a){return n.onSearch(a)}),e.k0s(),e.DNE(4,gt,2,2,"div",4),e.k0s(),e.j41(5,"app-table",5),e.bIt("sortChange",function(a){return n.onSortChange(a)})("pageChange",function(a){return n.fetchLevels(a)})("selectionChange",function(a){return n.onSelectionChange(a)})("editClicked",function(a){return n.onEdit(a)})("deleteClicked",function(a){return n.onDelete(a)}),e.k0s()()),2&o&&(e.Y8G("title","Level Management")("subtitle",e.lJ4(14,ht))("customClass","level-custom-header"),e.R7$(4),e.Y8G("ngIf",n.checkAddPermission()),e.R7$(1),e.Y8G("list",n.levelList)("columns",n.tableColumns)("pageSize",n.pageSize)("pageIndex",n.currentPage)("pageSizeOptions",e.lJ4(15,ft))("isLoading",!1)("showPaginator",!0)("showToolbar",!0)("totalItems",n.totalLevels)("columnPinnable",!0))},dependencies:[u.bT,f.Q,S,T,y],styles:[".heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.adduser[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;padding-bottom:15px}.toolbar-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:1rem 0;flex-wrap:wrap;gap:1rem}.toolbar-row[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{flex:1 1 300px;min-width:250px}.toolbar-row[_ngcontent-%COMP%]   .adduser[_ngcontent-%COMP%]{flex:0 0 auto}@media (max-width: 480px){.adduser[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}}.main-containt[_ngcontent-%COMP%]{padding:16px}"]})}}return i})();const _t=function(i){return{label:"Module Name",placeholder:"Enter your Module",type:"text",control:i,errorMessage:"Module is required",customClass:"add-module-input"}},Ct=function(i){return{label:"Description",placeholder:"Enter your Description",type:"text",control:i,errorMessage:"Description is required",customClass:"add-module-input"}},vt=function(){return{label:"Submit",color:"primary",icon:"send",disabled:!1,type:"submit",customClass:"add-module-submit-button"}};let kt=(()=>{class i{constructor(t,o,n,r,a){this.fb=t,this.api=o,this.toastr=n,this.dialogRef=r,this.data=a,this.ModuleForm=this.fb.group({name:["",s.k0.required],description:["",s.k0.required]})}get ModuleControl(){return this.ModuleForm.get("name")}get ModuledesControl(){return this.ModuleForm.get("description")}onCancel(){this.dialogRef.close()}onSave(){!this.isProcessing&&(this.isProcessing=!0,this.ModuleForm.valid)&&this.api.AddModule(this.ModuleForm.value).subscribe({next:o=>{this.toastr.success("Module Added Successfully!"),this.ModuleForm.reset(),this.dialogRef.close(this.ModuleForm.value),this.isProcessing=!1},error:o=>{this.isProcessing=!1}})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(s.ok),e.rXU(h.G),e.rXU(P.tw),e.rXU(d.CP),e.rXU(d.Vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-module"]],decls:10,vars:9,consts:[["mat-dialog-title","",1,"dialog-title"],[3,"formGroup"],[3,"data"],[1,"button-container"],[1,"dialog-actions"],[3,"data","click"]],template:function(o,n){1&o&&(e.j41(0,"h2",0),e.EFF(1,"Add New Module"),e.k0s(),e.j41(2,"div")(3,"mat-dialog-content")(4,"form",1),e.nrm(5,"app-input",2)(6,"app-input",2),e.k0s()(),e.j41(7,"div",3)(8,"mat-dialog-actions",4)(9,"app-button",5),e.bIt("click",function(){return n.onSave()}),e.k0s()()()()),2&o&&(e.R7$(4),e.Y8G("formGroup",n.ModuleForm),e.R7$(1),e.Y8G("data",e.eq3(4,_t,n.ModuleControl)),e.R7$(1),e.Y8G("data",e.eq3(6,Ct,n.ModuledesControl)),e.R7$(3),e.Y8G("data",e.lJ4(8,vt)))},dependencies:[s.qT,s.cb,s.j4,O.S,f.Q,d.BI,d.Yi,d.E7],styles:[".dialog-title[_ngcontent-%COMP%]{padding:16px 24px;margin:0;border-bottom:1px solid #e0e0e0;font-weight:500;color:#3f51b5;text-align:center}.module-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-width:300px;max-width:500px;margin:0 auto}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 600px){.dialog-container[_ngcontent-%COMP%]{padding:16px}.module-form[_ngcontent-%COMP%]{min-width:auto;gap:1rem}.submit-button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})}}return i})();const Pt=function(){return{label:"Add Module",color:"primary",disabled:!1,type:"button",customClass:"my-button-class"}};function xt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"app-button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddModuleDialog())}),e.k0s()()}2&i&&(e.R7$(1),e.Y8G("data",e.lJ4(1,Pt)))}const Mt=function(){return["Home","Module Management"]},wt=function(){return[5,10,50]};let yt=(()=>{class i{constructor(t,o,n){this.api=t,this.dialog=o,this.common=n,this.moduleList=[],this.totalModules=0,this.currentPage=0,this.pageSize=5,this.searchText="",this.tableColumns=z}ngOnInit(){this.tableColumns=z.map(t=>("edit"===t.field&&(t.buttons=[{icon:"edit",type:"icon",tooltip:"Edit",click:o=>this.onEdit(o)}]),"delete"===t.field&&(t.buttons=[{icon:"delete",type:"icon",tooltip:"Delete",click:o=>this.onDelete(o)}]),t)),this.getModules(),this.checkDeletePermission(),this.checkUpdatePermission()}fetchModules(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.getModules(this.currentPage+1,this.pageSize)}getModules(t=1,o=5){const n={page:t,limit:o};this.searchText?.trim()&&(n.searchTxt=this.searchText.trim()),this.api.getModules(n).subscribe(r=>{const{modules:a,meta:p}=r.data;this.moduleList=a.map((m,M)=>({id:(t-1)*o+M+1,name:m.name,description:m.description})),this.totalModules=p.totalItems})}onSearch(t){this.searchText=t,this.getModules()}openAddModuleDialog(){this.dialog.open(kt,{width:"400px",maxWidth:"90vw",height:"auto",maxHeight:"",panelClass:"custom-dialog-container"}).afterClosed().subscribe(o=>{o&&this.getModules()})}checkAddPermission(){return this.common.checkAddPermission("Module Management")}redirectFromPageHeader(t){"Home"===t&&this.common.redirectTo("user")}checkUpdatePermission(){if(!this.common.checkUpdatePermission("Module Management")){const t=this.tableColumns.findIndex(o=>"Edit"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}checkDeletePermission(){if(console.log("DELETE PERMISSION",this.common.checkDeletePermission("Module Management")),!this.common.checkDeletePermission("Module Management")){const t=this.tableColumns.findIndex(o=>"Delete"===o.header);-1!==t&&this.tableColumns.splice(t,1)}}onSortChange(t){console.log("Sort changed:",t)}onPageChange(t){console.log("Page change:",t)}onSelectionChange(t){console.log("Selection changed:",t)}onEdit(t){console.log("Edit clicked:",t)}onDelete(t){console.log("Delete clicked:",t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(h.G),e.rXU(d.bZ),e.rXU(v.h))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-modulemanagement"]],decls:6,vars:15,consts:[[3,"title","subtitle","spanClicked"],[1,"main-containt"],[1,"toolbar-row"],[3,"search"],["class","add-module",4,"ngIf"],[3,"list","columns","pageSize","pageIndex","pageSizeOptions","isLoading","showPaginator","showToolbar","totalItems","columnPinnable","sortChange","pageChange","selectionChange"],[1,"add-module"],[3,"data","click"]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1)(2,"div",2)(3,"app-search-bar",3),e.bIt("search",function(a){return n.onSearch(a)}),e.k0s(),e.DNE(4,xt,2,2,"div",4),e.k0s(),e.j41(5,"app-table",5),e.bIt("sortChange",function(a){return n.onSortChange(a)})("pageChange",function(a){return n.fetchModules(a)})("selectionChange",function(a){return n.onSelectionChange(a)}),e.k0s()()),2&o&&(e.Y8G("title","Module Management")("subtitle",e.lJ4(13,Mt)),e.R7$(4),e.Y8G("ngIf",n.checkAddPermission()),e.R7$(1),e.Y8G("list",n.moduleList)("columns",n.tableColumns)("pageSize",n.pageSize)("pageIndex",n.currentPage)("pageSizeOptions",e.lJ4(14,wt))("isLoading",!1)("showPaginator",!0)("showToolbar",!0)("totalItems",n.totalModules)("columnPinnable",!0))},dependencies:[u.bT,f.Q,S,T,y],styles:[".heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:1rem;text-align:center}.toolbar-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:1rem 0;flex-wrap:wrap;gap:1rem}.toolbar-row[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{flex:1 1 300px;min-width:250px}.toolbar-row[_ngcontent-%COMP%]   .add-module[_ngcontent-%COMP%]{flex:0 0 auto}.custom-dialog-container[_ngcontent-%COMP%]{padding:0;overflow:visible!important;box-sizing:border-box}app-table[_ngcontent-%COMP%]{width:100%;overflow-x:auto}@media (max-width: 600px){.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.add-module[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}}.main-containt[_ngcontent-%COMP%]{margin:16px}"]})}}return i})();var j=c(1997),E=c(8018);const Rt=function(){return["Home","Edit Profile"]},St=function(i){return{label:"Name",type:"text",control:i,placeholder:"Enter name",errorMessage:"Please enter name",customClass:"edit-profile-input"}},Tt=function(i){return{label:"Email",type:"email",control:i,placeholder:"Enter email",errorMessage:"Please enter valid email",customClass:"edit-profile-input"}},Ft=function(i){return{label:"IPv4",type:"text",control:i,placeholder:"Enter IPv4",errorMessage:"Please enter IPv4",customClass:"edit-profile-input"}},It=function(i){return{label:"IPv6",type:"text",control:i,placeholder:"Enter IPv6",errorMessage:"Please enter IPv6",customClass:"edit-profile-input"}},jt=function(i){return{label:"UserId",type:"text",control:i,placeholder:"Enter user ID",errorMessage:"Please enter user ID",customClass:"edit-profile-input"}},Et=function(i){return{label:"Mobile",type:"number",control:i,placeholder:"Enter mobile",errorMessage:"Please enter mobile number",customClass:"edit-profile-input",icon:"smartphone"}},Gt=function(i){return{label:"DeviceId",type:"number",control:i,placeholder:"Enter device ID",errorMessage:"Please enter device ID",customClass:"edit-profile-input"}},$t=function(i,l){return{label:"Select Wallet",placeholder:"Select Wallet",options:i,control:l,errorMessage:"Wallet is required",customClass:"edit-profile-input"}},Ut=function(i){return{label:"Save",color:"primary",type:"submit",disabled:i,customClass:"save-button"}},Dt=[{path:"",component:ct,children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",component:_e},{path:"userform",component:D},{path:"usermanagement",component:ye},{path:"rolemanagement",component:Ae},{path:"levelmanagement",component:bt},{path:"modulemanagement",component:yt},{path:"profile",component:(()=>{class i{constructor(t){this.profile=t,this.user={avatar:"https://i.pravatar.cc/150?img=3",name:"John Doe"},this.data=t.permissions}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.h))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user-profile"]],decls:32,vars:12,consts:[[1,"container"],[1,"profile-card"],["alt","avatar",1,"avatar",3,"src"],[1,"name"],[1,"job-title"],[1,"bio"],[1,"actions"],["mat-flat-button","","color","primary","href","https://github.com/nzbin","target","_blank"],["mat-flat-button","","color","warn"],[1,"divider"],[1,"navlist"],["mat-list-item","","routerLink","/user/profile/overview"],["matListItemIcon",""],["mat-list-item","","routerLink","/edit"],["mat-list-item","","tabindex","0"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-content"),e.nrm(3,"img",2),e.j41(4,"h2",3),e.EFF(5),e.k0s(),e.j41(6,"p",4),e.EFF(7),e.k0s(),e.j41(8,"p",5),e.EFF(9,"I like reading, writing and drawing."),e.k0s(),e.j41(10,"div",6)(11,"a",7),e.EFF(12,"Follow Me"),e.k0s(),e.j41(13,"button",8),e.EFF(14,"Contact Me"),e.k0s()()(),e.nrm(15,"mat-divider",9),e.j41(16,"mat-nav-list",10)(17,"a",11)(18,"mat-icon",12),e.EFF(19,"account_circle"),e.k0s(),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"a",13)(23,"mat-icon",12),e.EFF(24,"edit"),e.k0s(),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"a",14)(28,"mat-icon",12),e.EFF(29,"exit_to_app"),e.k0s(),e.EFF(30),e.nI1(31,"translate"),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("src",n.user.avatar,e.B4B),e.R7$(2),e.JRh(n.data.name),e.R7$(2),e.JRh(n.data.email),e.R7$(13),e.SpI(" ",e.bMT(21,6,"profile")," "),e.R7$(5),e.SpI(" ",e.bMT(26,8,"edit_profile")," "),e.R7$(5),e.SpI(" ",e.bMT(31,10,"logout")," "))},dependencies:[w.Wk,g.RN,g.m2,b.An,j.q,_._L,_.YE,_.ZV,k.It,k.$z,E.D9],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px}.profile-card[_ngcontent-%COMP%]{width:300px;text-align:center}.avatar[_ngcontent-%COMP%]{border-radius:50%;margin-bottom:8px;width:80px;height:80px;object-fit:cover}.name[_ngcontent-%COMP%]{margin:8px 0;font-weight:400}.job-title[_ngcontent-%COMP%]{margin:8px 0}.bio[_ngcontent-%COMP%]{margin:8px 0;color:gray}.actions[_ngcontent-%COMP%]{margin-top:8px}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;border-radius:20px}.divider[_ngcontent-%COMP%]{margin:16px 0}.navlist[_ngcontent-%COMP%]{text-align:left}"]})}}return i})()},{path:"roleform",component:q},{path:"edit",component:(()=>{class i{constructor(t,o,n,r){this.fb=t,this.apiService=o,this.profile=n,this.toastr=r,this.walletOptions=[{label:"SINGLE",value:"Single"},{label:"MULTI",value:"Multi"},{label:"BOTH",value:"Both"}],this.user={avatar:"https://i.pravatar.cc/150?img=3",name:"John Doe"},this.data=n.permissions}ngOnInit(){this.reactiveForm=this.fb.group({name:["",s.k0.required],email:["",[s.k0.required,s.k0.email]],ipv4:["",s.k0.required],ipv6:["",s.k0.required],userId:["",s.k0.required],mobile:["",[s.k0.required,s.k0.pattern("^[0-9]+$")]],deviceId:["",[s.k0.required,s.k0.pattern("^[0-9]+$")]],walletType:["",s.k0.required]})}onSubmit(){if(!this.isProcessing){if(this.reactiveForm.invalid)return this.reactiveForm.markAllAsTouched(),void this.toastr.error("Please fill all required fields correctly.");this.isProcessing=!0,this.apiService.editUser({uuid:this.data?.uuid,name:this.reactiveForm.value.name,email:this.reactiveForm.value.email,userId:this.reactiveForm.value.userId,ipv4:this.reactiveForm.value.ipv4,ipv6:this.reactiveForm.value.ipv6,deviceId:this.reactiveForm.value.deviceId,mobileNumber:this.reactiveForm.value.mobile}).subscribe({next:o=>{this.toastr.success("Profile updated successfully!"),this.isProcessing=!1},error:o=>{console.error(o),this.toastr.error("Failed to update profile"),this.isProcessing=!1}})}}get nameControl(){return this.reactiveForm.get("name")}get emailControl(){return this.reactiveForm.get("email")}get ipv4Control(){return this.reactiveForm.get("ipv4")}get ipv6Control(){return this.reactiveForm.get("ipv6")}get userIdControl(){return this.reactiveForm.get("userId")}get mobileControl(){return this.reactiveForm.get("mobile")}get deviceIdControl(){return this.reactiveForm.get("deviceId")}get walletTypeControl(){return this.reactiveForm.get("walletType")}redirectFromPageHeader(t){"Home"===t&&this.profile.redirectTo("user")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(s.ok),e.rXU(h.G),e.rXU(v.h),e.rXU(P.tw))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-edit-profile"]],decls:50,vars:45,consts:[[3,"title","subtitle","customClass","spanClicked"],[1,"edit-profile-container"],[1,"profile-card"],[1,"white-container"],["alt","avatar",1,"avatar",3,"src"],[1,"name"],[1,"job-title"],[1,"bio"],[1,"actions"],["mat-flat-button","","color","primary","href","https://github.com/nzbin","target","_blank"],["mat-flat-button","","color","warn"],["mat-list-item","","routerLink","/profile"],["matListItemIcon",""],["mat-list-item",""],[1,"edit-form-card"],[1,"form-field-full",3,"formGroup","ngSubmit"],[1,"two-column-container"],[1,"column"],[3,"data"],["matSuffix",""]],template:function(o,n){1&o&&(e.j41(0,"app-pageheader",0),e.bIt("spanClicked",function(a){return n.redirectFromPageHeader(a)}),e.k0s(),e.j41(1,"div",1)(2,"mat-card",2)(3,"mat-card-content",3),e.nrm(4,"img",4),e.j41(5,"h2",5),e.EFF(6),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s(),e.j41(9,"p",7),e.EFF(10,"I like reading, writing and drawing."),e.k0s(),e.j41(11,"div",8)(12,"a",9),e.EFF(13,"Follow Me"),e.k0s(),e.j41(14,"button",10),e.EFF(15,"Contact Me"),e.k0s()()(),e.nrm(16,"mat-divider"),e.j41(17,"mat-nav-list")(18,"a",11)(19,"mat-icon",12),e.EFF(20,"account_circle"),e.k0s(),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"a",13)(24,"mat-icon",12),e.EFF(25,"edit"),e.k0s(),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"a",13)(29,"mat-icon",12),e.EFF(30,"exit_to_app"),e.k0s(),e.EFF(31),e.nI1(32,"translate"),e.k0s()()(),e.j41(33,"mat-card",14)(34,"mat-card-content",3)(35,"form",15),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(36,"div",16)(37,"div",17),e.nrm(38,"app-input",18)(39,"app-input",18)(40,"app-input",18)(41,"app-input",18),e.k0s(),e.j41(42,"div",17),e.nrm(43,"app-input",18)(44,"app-input",18),e.j41(45,"app-input",18)(46,"mat-icon",19),e.EFF(47,"phone"),e.k0s()(),e.nrm(48,"app-select",18),e.k0s()(),e.nrm(49,"app-button",18),e.k0s()()()()),2&o&&(e.Y8G("title","Edit Profile")("subtitle",e.lJ4(25,Rt))("customClass","edit-profile-header"),e.R7$(4),e.Y8G("src",n.user.avatar,e.B4B),e.R7$(2),e.JRh(n.data.name),e.R7$(2),e.JRh(n.data.email),e.R7$(13),e.SpI(" ",e.bMT(22,19,"profile")," "),e.R7$(5),e.SpI(" ",e.bMT(27,21,"edit_profile")," "),e.R7$(5),e.SpI(" ",e.bMT(32,23,"logout")," "),e.R7$(4),e.Y8G("formGroup",n.reactiveForm),e.R7$(3),e.Y8G("data",e.eq3(26,St,n.nameControl)),e.R7$(1),e.Y8G("data",e.eq3(28,Tt,n.emailControl)),e.R7$(1),e.Y8G("data",e.eq3(30,Ft,n.ipv4Control)),e.R7$(1),e.Y8G("data",e.eq3(32,It,n.ipv6Control)),e.R7$(2),e.Y8G("data",e.eq3(34,jt,n.userIdControl)),e.R7$(1),e.Y8G("data",e.eq3(36,Et,n.mobileControl)),e.R7$(1),e.Y8G("data",e.eq3(38,Gt,n.deviceIdControl)),e.R7$(3),e.Y8G("data",e.l_i(40,$t,n.walletOptions,n.walletTypeControl)),e.R7$(1),e.Y8G("data",e.eq3(43,Ut,n.reactiveForm.invalid)))},dependencies:[w.Wk,s.qT,s.cb,s.j4,O.S,f.Q,F,y,g.RN,g.m2,b.An,j.q,_._L,_.YE,_.ZV,C.yw,k.It,k.$z,E.D9],styles:[".edit-profile-container[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap;padding:10px}.profile-card[_ngcontent-%COMP%]{flex:0 0 300px;max-width:300px;width:300px;text-align:center}.avatar[_ngcontent-%COMP%]{border-radius:50%;margin-bottom:8px;width:80px;height:80px;object-fit:cover}.name[_ngcontent-%COMP%]{margin:8px 0;font-weight:400}.job-title[_ngcontent-%COMP%]{margin:8px 0}.bio[_ngcontent-%COMP%]{margin:8px 0;color:gray}.actions[_ngcontent-%COMP%]{margin-top:8px}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;border-radius:20px}.navlist[_ngcontent-%COMP%]{text-align:left}.edit-form-card[_ngcontent-%COMP%]{flex:1;min-width:400px}.two-column-container[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:nowrap}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.input[_ngcontent-%COMP%]{width:100%}.column[_ngcontent-%COMP%]   app-input[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.two-column-container[_ngcontent-%COMP%]{flex-wrap:wrap}}.white-container[_ngcontent-%COMP%]{padding:16px}"]})}}return i})()}]}];let Yt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[w.iI.forChild(Dt),w.iI]})}}return i})();var Lt=c(4289),zt=c(5084);let Xt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[u.MD,Yt,s.X1,Lt.G,g.Hu,b.m_,Y.PO,j.w,x.vg,d.hM,_.Fg,E.h,u.MD,s.X1,C.RG,B.fS,U.Ve,zt.X6,$.WX,k.Hl,b.m_]})}}return i})()}}]);