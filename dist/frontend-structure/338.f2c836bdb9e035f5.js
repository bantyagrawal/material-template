"use strict";(self.webpackChunkfrontendStructure=self.webpackChunkfrontendStructure||[]).push([[338],{3338:(I,p,e)=>{e.r(p),e.d(p,{AuthenticationModule:()=>X});var v=e(177),h=e(8498);function g(r,l,o,n,s,a,c){try{var u=r[a](c),d=u.value}catch(j){return void o(j)}u.done?l(d):Promise.resolve(d).then(n,s)}var i=e(9417),t=e(7705),y=e(5794),P=e(5741),w=e(1099),F=e(9301),m=e(5596),E=e(1573),M=e(8219),f=e(8018);const S=function(r,l){return{label:"Email",placeholder:"Enter your email",type:"email",control:r,errorMessage:l,customClass:"login-input"}},b=function(r,l){return{label:"Password",type:"password",placeholder:"Enter your password",control:r,errorMessage:l,isPasswordToggle:!0,customClass:"login-input"}},G=function(){return{label:"login",color:"primary",icon:"",disabled:!1,type:"submit",customClass:"login-submit-button"}},A=[{path:"",component:(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-authentication"]],decls:1,vars:0,template:function(n,s){1&n&&t.nrm(0,"router-outlet")},dependencies:[h.n3]})}}return r})(),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",component:(()=>{class r{constructor(o,n,s,a,c,u){this.fb=o,this.router=n,this.toastr=s,this.encry=a,this.api=c,this.common=u,this.hide=!0,this.isProcessing=!1,this.loginForm=new i.gE({identifier:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",[i.k0.required,i.k0.minLength(6),i.k0.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z\d])[A-Za-z\d\S]{6,}$/)])})}get identifierControl(){return this.loginForm.get("identifier")}get passwordControl(){return this.loginForm.get("password")}hasUppercase(){return/[A-Z]/.test(this.loginForm.get("password")?.value)}hasLowercase(){return/[a-z]/.test(this.loginForm.get("password")?.value)}hasNumber(){return/\d/.test(this.loginForm.get("password")?.value)}hasSpecialCharacter(){return/[@$!%*?&]/.test(this.loginForm.get("password")?.value)}showPasswordError(){const o=this.loginForm.get("password");return o?.hasError("required")?"Password is required":o?.hasError("minlength")?"Password should be more then 6 digit":this.hasUppercase()?this.hasLowercase()?this.hasNumber()?this.hasSpecialCharacter()?"":"Password must have one special latter":"Password must have one digit":"Password must have one lowwer case":"Password must have one upper case"}emailError(){return this.identifierControl?.hasError("required")?"Email is required":this.identifierControl?.hasError("email")?"Please provide correct email":""}loginSubmit(){var o=this;if(this.isProcessing)return;if(this.isProcessing=!0,this.loginForm.invalid)return this.isProcessing=!1,void this.toastr.error("Form is invalid");const n=this.encry.encrypt(this.loginForm.value);var s;this.api.login({encryptedData:n}).subscribe({next:(s=function C(r){return function(){var l=this,o=arguments;return new Promise(function(n,s){var a=r.apply(l,o);function c(d){g(a,n,s,c,u,"next",d)}function u(d){g(a,n,s,c,u,"throw",d)}c(void 0)})}}(function*(a){try{yield o.common.assignPermission(),o.router.navigate(["/user"]),o.toastr.success("Login Successful")}catch{}finally{o.isProcessing=!1}}),function(c){return s.apply(this,arguments)}),error:s=>{this.isProcessing=!1}})}static{this.\u0275fac=function(n){return new(n||r)(t.rXU(i.ok),t.rXU(h.Ix),t.rXU(y.tw),t.rXU(P.d),t.rXU(w.G),t.rXU(F.h))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-login"]],decls:12,vars:14,consts:[[1,"login-container"],[1,"login-card"],[3,"formGroup","ngSubmit"],[3,"data"],[1,"submit"]],template:function(n,s){1&n&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"mat-card-content")(7,"form",2),t.bIt("ngSubmit",function(){return s.loginSubmit()}),t.nrm(8,"app-input",3)(9,"app-input",3),t.j41(10,"div",4),t.nrm(11,"app-button",3),t.k0s()()()()()),2&n&&(t.R7$(4),t.SpI("\u{1f44b} ",t.bMT(5,5,"Welcome Back"),"!"),t.R7$(3),t.Y8G("formGroup",s.loginForm),t.R7$(1),t.Y8G("data",t.l_i(7,S,s.identifierControl,s.emailError())),t.R7$(1),t.Y8G("data",t.l_i(10,b,s.passwordControl,s.showPasswordError())),t.R7$(2),t.Y8G("data",t.lJ4(13,G)))},dependencies:[i.qT,i.cb,i.j4,m.RN,m.m2,m.MM,m.dh,E.S,M.Q,f.D9],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;padding:16px;background:#EEAECA;background:radial-gradient(circle,rgb(238,174,202) 0%,rgb(148,187,233) 100%);color:#000}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.register-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}mat-card-content[_ngcontent-%COMP%]{margin-top:30px}.submit[_ngcontent-%COMP%]{padding-bottom:20px!important}"]})}}return r})()}]}];let x=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(A),h.iI]})}}return r})();var U=e(9213),$=e(8834),L=e(9183),R=e(2102),T=e(9631),D=e(4289);let X=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[v.MD,x,i.X1,U.m_,$.Hl,m.Hu,L.D6,R.RG,T.fS,D.G,f.h]})}}return r})()}}]);