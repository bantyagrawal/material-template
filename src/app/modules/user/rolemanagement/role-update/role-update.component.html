<div class="dialog-container">
  <div class="dialog-header">
    <h3>Module Permissions</h3>

    <button mat-icon-button color="warn" (click)="onClose()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="permissions-section" *ngFor="let permission of roleData.permissions">
    <div class="module-header">
      <h4>{{ permission.module.name }}</h4>
    </div>

    <div class="checkbox-row">
      <app-checkbox label="All" [checked]="isAllChecked(permission.permission)"
        (changed)="onAllPermissionsChange(permission, $event)">
      </app-checkbox>
      <app-checkbox *ngFor="let permKey of getPermissionKeys(permission.permission)" [label]="permKey"
        [checked]="permission.permission[permKey]" (changed)="onPermissionChange(permission, permKey, $event)">
      </app-checkbox>
    </div>
  </div>

  <div class="button-container">
    <app-button (click)="updatePermission()" [data]="{
        label: 'Submit',
        color: 'primary',
        icon: 'send',
        disabled: false,
        type: 'submit',
        customClass: 'my-button-class'
      }">
    </app-button>
  </div>
</div>